---
title: "anyhowãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘eyre/mietteå…¥é–€"
emoji: "ğŸ”¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["rust", "anyhow"]
published: true
---

anyhow ã‚’æ´»ç”¨ã—ã¦ã„ã‚‹ Rust ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼å‘ã‘ã«ã€è¿‘å¹´æ³¨ç›®ã•ã‚Œã¦ã„ã‚‹eyreã¨mietteã«ã¤ã„ã¦åˆ†ã‹ã‚Šã‚„ã™ãè§£èª¬ã—ã¾ã™ã€‚ãã‚Œãã‚Œã®ç‰¹é•·ã‚’æ¯”è¼ƒã—ã¤ã¤ã€ã©ã®å ´é¢ã§ä½¿ã†ã¹ãã‹ã‚‚ææ¡ˆã—ã¾ã™ã€‚

::::message
ã“ã®è¨˜äº‹ã¯[Rust Advent Calendar 2024](https://qiita.com/advent-calendar/2024/rust)ã®20æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚
::::

## ã¯ã˜ã‚ã«

3å¹´å‰ã€ã“ã¡ã‚‰ã®è¨˜äº‹ã§anyhowã‚„thiserrorã«ã¤ã„ã¦è§£èª¬ã—ã¾ã—ãŸã€‚ãã‚Œä»¥æ¥ã€Rust ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã„ã¦anyhowã¯æ¬ ã‹ã›ãªã„ã‚¯ãƒ¬ãƒ¼ãƒˆã®ã²ã¨ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®4å¹´é–“ã§anyhowã«å¤§ããªæ©Ÿèƒ½è¿½åŠ ã¯ãªã„ã‚‚ã®ã®ã€ãã®ä¿¡é ¼æ€§ã¨ä½¿ã„ã‚„ã™ã•ã¯å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚ä¸€æ–¹ã€æœ€è¿‘ã§ã¯anyhowã«ã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã•ã‚ŒãŸæ–°ã—ã„ã‚¯ãƒ¬ãƒ¼ãƒˆã€[eyre](https://github.com/eyre-rs/eyre)ã¨[miette](https://github.com/zkat/miette)ãŒæ³¨ç›®ã‚’é›†ã‚ã¦ã„ã¾ã™ã€‚æœ¬è¨˜äº‹ã§ã¯ã€ãã‚Œã‚‰ã‚’è©¦ã—ã¦ã¿ãŸæ„Ÿæƒ³ã‚’äº¤ãˆã¤ã¤ã€anyhow ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦–ç‚¹ã‹ã‚‰è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚

https://zenn.dev/yukinarit/articles/b39cd42820f29e

## `eyre`ã¨ã¯ï¼Ÿ

eyre ã¯ anyhow ã‚’ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ä½œã‚‰ã‚ŒãŸã‚¯ãƒ¬ãƒ¼ãƒˆã§ã€åŸºæœ¬çš„ãªã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ãã®ã¾ã¾ã«ã€æ‹¡å¼µæ€§ã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã‚’è¿½æ±‚ã—ã¦ã„ã¾ã™ã€‚ã¡ãªã¿ã«ã€ç™ºéŸ³ã¯ã€Œã‚¨ã‚¢ãƒ¼ã€ã§ã™ã€‚[^1][^2]

https://github.com/eyre-rs/eyre

### `anyhow`ã¨ã®æ¯”è¼ƒ

eyre ã¯ anyhow ã«è¿‘ã„ API ã‚’æŒã£ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨æ©Ÿèƒ½ã«å·®ç•°ãŒã‚ã‚Šã¾ã™ã€‚ä»¥ä¸‹ã«ä¸»ãªé•ã„ã‚’æ¯”è¼ƒã—ã¾ã™ã€‚

| anyhow                               | eyre                                                     |
|--------------------------------------|----------------------------------------------------------|
| `anyhow!`                            | `eyre!`                                                  |
| `bail!`                              | `bail!`                                                  |
| `ensure!`                            | `ensure!`                                                |
| `Error`                              | `Report`                                                 |
| `Context::context`                   | `WrapErr::wrap_err`                                      |
| `Context::with_context`              | `WrapErr::wrap_err_with`                                 |
| `Context::context` for `Option`      | `OptionExt::ok_or_eyre`                                  |
| `Context::with_context` for `Option` | ç„¡ã„ã®ã§ã“ã‚Œã§ä»£æ›¿ `Option::ok_or_else(\|\| eyre!(...))` |

### Report Handlers

eyre ã®ç›®ç‰æ©Ÿèƒ½ã¯ã€ŒReport Handlersã€ã§ã™ã€‚ã‚¨ãƒ©ãƒ¼ã‚„ Backtrace ã®è¡¨ç¤ºæ–¹æ³•ã‚’ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã§ã™ã€‚ä¸»ãªå…¬å¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¯ä»¥ä¸‹ã®é€šã‚Šï¼š

`stable-eyre`: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆBacktrace ã‚µãƒãƒ¼ãƒˆã‚ã‚Šï¼‰
`simple-eyre`: æœ€å°é™ã®æ©Ÿèƒ½ï¼ˆBacktrace ãªã—ï¼‰
`color-eyre`: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚„ãƒˆãƒ¬ãƒ¼ã‚¹æƒ…å ±ã‚’å¼·èª¿è¡¨ç¤ºã™ã‚‹é«˜æ©Ÿèƒ½ãªãƒãƒ³ãƒ‰ãƒ©ãƒ¼

### `color-eyre`

eyreã§ãŠãã‚‰ãæœ€ã‚‚é‡è¦ãªæ©Ÿèƒ½ã§ã€å€‹äººçš„ã«ã¯eyreä½¿ã†ãªã‚‰color-eyreã€é€†ã«color-eyreä½¿ã‚ãªã„ãªã‚‰eyreä½¿ã†æ„å‘³ãªã„ã¨ã¾ã§è¨€ãˆã¾ã™ã€‚color-eyreã«ã¯ä¸»ãªæ©Ÿèƒ½ã¯ä»¥ä¸‹ã®3ã¤ã§ã™ã€‚

1. ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆä»˜ãã®colorizedã•ã‚ŒãŸbacktrace

![](/images/ee9617f20b0361/backtrace.png)

2. tracingã®Spanæƒ…å ±ã®è¡¨ç¤º(tracingä½¿ç”¨æ™‚ã®ã¿)

![](/images/ee9617f20b0361/spantrace.png)

3. ã‚¨ãƒ©ãƒ¼ã«ä»˜åŠ çš„ãªæƒ…å ±è¿½åŠ 

![](/images/ee9617f20b0361/suggestion.png)
*ä¸€ç•ªä¸‹ã«SuggestionãŒè¡¨ç¤ºã•ã‚ŒãŸ*

### anyhowã¨ã®æ€§èƒ½å·®

eyreã¯éå¸¸ã«ä¾¿åˆ©ãªã‚¯ãƒ¬ãƒ¼ãƒˆã§ã™ãŒã€ä¾¿åˆ©ã•ã¯æ€§èƒ½ã¨ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã§ã™ã€‚eyreã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§backtraceã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ã¾ã™ã€‚backtraceã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã¯éå¸¸ã«é‡ã„å‡¦ç†ãªã®ã§ã€æ€§èƒ½ã«å½±éŸ¿ãŒã§ã¾ã™ã€‚

ç¢ºã‹ã‚ã‚‹ãŸã‚ã«anyhowã¨eyreã§ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹ã“ã‚“ãªæ„Ÿã˜ã®ç°¡å˜ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å–ã£ã¦ã¿ã¾ã™ã€‚

https://github.com/yukinarit/playground/blob/03d2fa0467a21e9af3e498fa9f681b17ea9bb343/rust/error-management/benches/anyhow.rs#L3-L22

* anyhow backtraceãªã— / [source](https://github.com/yukinarit/playground/blob/main/rust/error-management/benches/anyhow-without-backtrace.rs)
    ```bash
    anyhow                  time:   [13.553 ns 13.757 ns 13.978 ns]
    ```
* anyhow backtraceã‚ã‚Š / [source](https://github.com/yukinarit/playground/blob/main/rust/error-management/benches/anyhow-with-backtrace.rs)
    ```bash
    anyhow_with_backtrace   time:   [3.3945 Âµs 3.5365 Âµs 3.6954 Âµs]
    ```
* eyre backtraceãªã— / anyhowã®ç´„2.3å€ / [source](https://github.com/yukinarit/playground/blob/main/rust/error-management/benches/eyre-without-backtrace.rs)
    ```bash
    eyre_without_backtrace  time:   [31.406 ns 31.861 ns 32.333 ns]
    ```
* color-eyre full backtrace / anyhowã®ç´„1.91å€ /  [source](https://github.com/yukinarit/playground/blob/main/rust/error-management/benches/eyre-with-backtrace.rs)
    ```bash
    eyre_with_backtrace     time:   [6.5067 Âµs 6.5405 Âµs 6.5786 Âµs]
    ```

ã‚„ã£ã±ã‚Šã€full backtraceã‚ã‚Šã§ã¯ã‹ãªã‚Šé…ã„ã¨ã„ã†çµæœã«ãªã‚Šã¾ã—ãŸã­ã€‚æ€§èƒ½ãŒè¦æ±‚ã•ã‚Œã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã¯ã“ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’ã‚ˆãè€ƒæ…®ã—ã¦ä½¿ã„ã¾ã—ã‚‡ã†ã€‚

## `miette`

mietteã¯anyhow, color-eyreã«ã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ç®¡ç†ã‚¯ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚ç™ºéŸ³ã¯ãƒŸã‚¨ãƒƒãƒˆã§ã™ã€‚anyhowã‚„eyreãŒä¸»ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ©ãƒ¼ç®¡ç†ã®ã¿ç‰¹åŒ–ã—ã¦ãŠã‚Šã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¨ãƒ©ãƒ¼ç®¡ç†ã¯`thiserror`ç­‰ã®åˆ¥ã‚¯ãƒ¬ãƒ¼ãƒˆã«ä»»ã›ã¦ã„ã‚‹ã®ã«å¯¾ã—ã€mietteã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸¡æ–¹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

https://github.com/zkat/miette

### `Diagnostics`ãƒˆãƒ¬ã‚¤ãƒˆ

mietteã¯ãƒªãƒƒãƒãªã‚¨ãƒ©ãƒ¼ã‚’æä¾›ã™ã‚‹ãŸã‚ã«`Diagnostic`ã¨ã„ã†ãƒˆãƒ¬ã‚¤ãƒˆåŠã³ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®ã‚¨ãƒ©ãƒ¼å‹ã«`Diagnostic`ã‚’ç°¡å˜ã«å®Ÿè£…ã™ã‚‹ãŸã‚ã«derive macroã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚thiserrorã§ã„ã†ã¨ã“ã‚ã®`std::error::Error`ãƒˆãƒ¬ã‚¤ãƒˆã¨`thiserror::Error`derive macroã§ã™ã€‚

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯mietteã®ãƒªãƒã‚¸ãƒˆãƒªã«ã‚ã‚‹[serde_jsonã‚’ä½¿ã£ãŸã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«](https://github.com/zkat/miette/blob/main/examples/serde_json.rs)ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ã®å‹ã‚’å®šç¾©ã—ã€serde_jsonã‹ã‚‰ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿå ´æ‰€ã®æƒ…å ±ã‚’å®šç¾©ã—ãŸã‚¨ãƒ©ãƒ¼ã®å‹ã«ä¸Šæ‰‹ã«æ¸¡ã™ã¨ã€

```rust
#[derive(Debug, thiserror::Error, miette::Diagnostic)]
#[error("malformed json provided")]
struct SerdeError {
    cause: serde_json::Error,
    #[source_code]
    input: String,
    #[label("{cause}")]
    location: SourceOffset,
}

impl SerdeError {
    /// Takes the input and the `serde_json::Error` and returns a SerdeError
    /// that can be rendered nicely with miette.
    pub fn from_serde_error(input: impl Into<String>, cause: serde_json::Error) -> Self {
        let input = input.into();
        let location = SourceOffset::from_location(&input, cause.line(), cause.column());
        Self {
            cause,
            input,
            location,
        }
    }
}

fn main() -> miette::Result<()> {
    let input = serde_json::to_string_pretty(&json!({
        "name": 123
    }))
    .into_diagnostic()?;

    let _library: Library =
        serde_json::from_str(&input).map_err(|cause| SerdeError::from_serde_error(input, cause))?;

    Ok(())
}
```

ä»¥ä¸‹ã®ã‚ˆã†ãªãƒªãƒƒãƒãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç´ æ™´ã‚‰ã—ã„ã§ã™ã­ã€‚

![](/images/ee9617f20b0361/miette-diagnostic.png)

### `into_diagnostic`åœ°ç„

ä¸€æ–¹ã§ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚‚ã‚ã‚Šã¾ã™ã€‚`anyhow`/`eyre`ã¨æ¯”ã¹ã¦å¤§ããªé•ã„ã¨ã—ã¦ã¯`miette::Report`ã¯`From<E: std::error::Error>`ã‚’å®Ÿè£…ã—ã¦ã„ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã©ã‚“ãªãƒ‡ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã®ã‹ã¨ã„ã†ã¨ã€anyhowã‚„eyreã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«`?`ã‚’ä½¿ã£ã¦æ›¸ã‘ã¦ã„ãŸã‚³ãƒ¼ãƒ‰ãŒã€

```rust
fn main() -> Result<()> {
    // do_stuff returns a `Result<T, E>` where E implements the `Error` trait.
    do_stuff().with_err("failed to do stuff")?;

    // or without with_err
    do_stuff()?;

    Ok(())
}
```

ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã¹ã¦ã®`?`ã®å‰ã«`into_diagnostic`ã‚’æ›¸ã‹ãªã‘ã‚Œã°ãªã‚‰ãšã€anyhowã‚„eyreã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã«æ…£ã‚Œã¦ã„ãŸäººã«ã¯ã‹ãªã‚Šã¤ã‚‰ã„ã¨æ€ã„ã¾ã™ã€‚
```rust
fn main() -> Result<()> {
    // do_stuff returns a `Result<T, E>` where E implements the `Error` trait.
    do_stuff().into_diagnostic().with_err("failed to do stuff")?;

    // or without with_err
    do_stuff().into_diagnostic()?;

    Ok(())
}
```

:::message
`miette::Report`ãŒ`From<E: std::error::Error>`ã‚’å®Ÿè£…ã—ã¦ã„ãªã„ï¼ˆã§ããªã„ï¼‰ç†ç”±ã¯ã™ã§ã«`From<E: Diagnostic>`ã‚’å®Ÿè£…ã—ã¦ãŠã‚Šã€å‰è€…ã‚’å®Ÿè£…ã—ã‚ˆã†ã¨ã™ã‚‹ã¨conflicting implementationã«ãªã‚‹ã‹ã‚‰ã‹ãªï¼Ÿã¨æ€ã£ã¦ã„ã¾ã™ã€‚è‡ªä¿¡ã¯ãªã„ã®ã§ã‚ã‹ã‚‹äººã„ãŸã‚‰æ•™ãˆã¦ãã ã•ã„ã€‚ã¾ãŸã€ã“ã®å•é¡Œã¯[miette#83](https://github.com/zkat/miette/issues/83)ã§è­°è«–ã•ã‚Œã¦ã„ã¾ã™ãŒã€2025å¹´1æœˆæ™‚ç‚¹ã§ã¯è§£æ±ºã—ã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚
:::

### `anyhow`ã¨ã®æ¯”è¼ƒ

mietteã¯anyhowã¨äº’æ›æ€§ã®ã‚ã‚‹APIã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚

| anyhow                               | miette                                                   |
|--------------------------------------|----------------------------------------------------------|
| `anyhow!`                            | `miette!`                                                |
| `bail!`                              | `bail!`                                                  |
| `ensure!`                            | `ensure!`                                                |
| `Error`                              | `Report`                                                 |
| `Context::context`                   | `WrapErr::wrap_err`                                      |
| `Context::with_context`              | `WrapErr::wrap_err_with`                                 |
| `Context::context` for `Option`      | `WrapErr::wrap_err`                                      |
| `Context::with_context` for `Option` | `WrapErr::wrap_err`                                      |

### anyhowã¨ã®æ€§èƒ½å·®

backtraceã§ã¯ã‹ãªã‚Šé…ã„ã®ã«å¯¾ã—ã¦full backtraceã‚ã‚Šã§ã¯anyhowã‚ˆã‚Šæ—©ã„çµæœã¨ãªã‚Šã¾ã—ãŸã€‚ãªã«ã‹é–“é•ã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã—ãŸã‚‰ã€èª°ã‹æŒ‡æ‘˜ãã ã•ã„ã€‚

* miette backtraceãªã— / anyhowã®ç´„131å€ / [source](https://github.com/yukinarit/playground/blob/main/rust/error-management/benches/miette-without-backtrace.rs)
    ```bash
    miette_without_backtrace time:   [1.7764 Âµs 1.7971 Âµs 1.8200 Âµs]
    ```
* miette full backtrace / anyhowã®ç´„0.7å€ /  [source](https://github.com/yukinarit/playground/blob/main/rust/error-management/benches/miette-with-backtrace.rs)
    ```bash
    miette_with_backtrace   time:   [2.3801 Âµs 2.4791 Âµs 2.5866 Âµs]
    ```

## æ©Ÿèƒ½ã¾ã¨ã‚

ä»¥ä¸‹ã«anyhow, eyre, mietteã®è‰¯ã•ã‚’é›‘ã«ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚

|                            | anyhow     |  eyre | miette |
|----------------------------|------------|-------|--------|
| åŸºæœ¬æ©Ÿèƒ½                   |     ğŸ†     |   ğŸ†  |   ğŸ†   |
| Backtrace                  |     ğŸ†     |   ğŸ†  |        |
| ã‚ˆã‚ŠãƒªãƒƒãƒãªBacktrace      |            |   ğŸ†  |        |
| SpanTree                   |            |   ğŸ†  |        |
| æ€§èƒ½                       |     ğŸ†     |       |        |
| ã‚¨ãƒ©ãƒ¼ä»˜åŠ æƒ…å ±             |            |   ğŸ†  |   ğŸ†   |
| ã‚ˆã‚Šãƒªãƒƒãƒãªã‚¨ãƒ©ãƒ¼ä»˜åŠ æƒ…å ± |            |       |   ğŸ†   |

## ã©ã‚Œã‚’ä½¿ã†ã¹ãã‹ã€ç§ã®çµè«–

è‰²ã€…è©¦ã—ã¦ã¿ãŸçµæœã€ç§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è€ƒãˆã¦ã„ã¾ã™ã€‚

| crate    | ç‰¹å¾´                          | ã‚ªã‚¹ã‚¹ãƒ¡ã®åˆ©ç”¨ã‚·ãƒ¼ãƒ³                                      |
|----------|-------------------------------|-----------------------------------------------------------|
| `anyhow` | ã‚·ãƒ³ãƒ—ãƒ«ã§é«˜é€Ÿ                | ä½•ã«ã§ã‚‚ã€‚ç‰¹ã«æ€§èƒ½ãŒè¦æ±‚ã•ã‚Œã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç­‰  |
| `eyre`   | ç¾ã—ã„ãƒãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã€ä»˜åŠ æƒ…å ±| ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€CLIã€é€Ÿåº¦ä½ä¸‹ãŒè¨±å®¹ã§ãã‚‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç­‰ |
| `miette` | ã‚ˆã‚Šãƒªãƒƒãƒãªã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãŒå¾—æ„  | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€CLIã€ãƒ‘ãƒ¼ã‚µãƒ¼ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªç­‰     |

:::message
ç­†è€…ã¯æ¥­å‹™ã§anyhowã¨thiserrorã‚’ä½¿ç”¨ã—ã¦Web APIã®é–‹ç™ºã‚’è¡Œã£ã¦ã„ã¾ã™ãŒã€ä»Šå¾Œã‚‚eyreã‚„mietteã¸ç§»è¡Œã™ã‚‹äºˆå®šã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã®ç†ç”±ã¯ã€Web ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®é–‹ç™ºã«ãŠã„ã¦ã‚«ãƒ©ãƒ•ãƒ«ãªãƒãƒƒã‚¯ãƒˆãƒ¬ãƒ¼ã‚¹ã¯å¿…é ˆã§ã¯ãªã„ã¨è€ƒãˆã¦ã„ã‚‹ã‹ã‚‰ã§ã™ï¼ˆã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆæƒ…å ±ãŒä»˜åŠ ã•ã‚Œã‚‹ã¨ä¾¿åˆ©ã§ã¯ã‚ã‚Šã¾ã™ãŒï¼‰ã€‚ãã‚Œã‚ˆã‚Šã‚‚ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒååˆ†ã«æˆç†Ÿã—ã¦ã„ã‚‹ã“ã¨ã‚„ã€æ€§èƒ½ã‚’æãªã‚ãªã„ã“ã¨ã‚’é‡è¦–ã—ã¦ã„ã¾ã™ã€‚

ä¸€æ–¹ã§ã€å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ Rust ã‚’ä½¿ã£ãŸ TUIï¼ˆãƒ†ã‚­ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã—ã¦ãŠã‚Šã€ãã“ã§ã¯ eyre ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚ã“ã®é¸æŠã«ã¯ã¨ã¦ã‚‚æº€è¶³ã—ã¦ãŠã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ€§è³ªã«é©ã—ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚
:::

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ€§è³ªã«åˆã‚ã›ã¦ã€æœ€é©ãªã‚¯ãƒ¬ãƒ¼ãƒˆã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚ã‚ãªãŸã®Rustãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ã©ã®ã‚¯ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã„ã¾ã™ã‹ï¼Ÿ ã‚³ãƒ¡ãƒ³ãƒˆã§æ•™ãˆã¦ãã ã•ã„ï¼

[^1]: ç™ºéŸ³ã«ã¤ã„ã¦ã®å‚è€ƒå‹•ç”»: [YouTube](https://youtu.be/rAF8mLI0naQ?si=awpZ9qkMusStVt33&t=76)
[^2]: åå‰ã®ç”±æ¥ã¯å°èª¬ã€Œã‚¸ã‚§ãƒ¼ãƒ³ãƒ»ã‚¨ã‚¢ã€ã‹ã‚‚ï¼Ÿ [Wikipedia](https://ja.wikipedia.org/wiki/%E3%82%B8%E3%82%A7%E3%83%BC%E3%83%B3%E3%83%BB%E3%82%A8%E3%82%A2)
